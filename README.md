# AWS Full-Stack Image Gallery

AWS ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ í’€ìŠ¤íƒ ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

ì´ë¯¸ì§€ ì—…ë¡œë“œ, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” í’€ìŠ¤íƒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. AWSì˜ ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ í™•ì¥ ê°€ëŠ¥í•˜ê³  ì•ˆì •ì ì¸ í´ë¼ìš°ë“œ ì¸í”„ë¼ë¥¼ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

## ğŸ— ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client    â”‚â”€â”€â”€â”€â–¶â”‚  CloudFront  â”‚â”€â”€â”€â”€â–¶â”‚  S3 (Web)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ HTTPS
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Route53   â”‚â”€â”€â”€â”€â–¶â”‚     ELB      â”‚â”€â”€â”€â”€â–¶â”‚     EC2     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â–¼                         â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  RDS MySQL  â”‚          â”‚ S3 (Images) â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **React** 18 + TypeScript
- **Vite** - ë¹Œë“œ ë„êµ¬
- **Axios** - HTTP í´ë¼ì´ì–¸íŠ¸
- **Tailwind CSS** - ìŠ¤íƒ€ì¼ë§

### Backend
- **Node.js** + **Express.js**
- **TypeScript**
- **TypeORM** - ORM
- **Multer** + **Multer-S3** - íŒŒì¼ ì—…ë¡œë“œ
- **PM2** - í”„ë¡œì„¸ìŠ¤ ë§¤ë‹ˆì €

### AWS Services
- **EC2** - ì„œë²„ í˜¸ìŠ¤íŒ…
- **S3** - ì •ì  ì›¹ í˜¸ìŠ¤íŒ… & ì´ë¯¸ì§€ ì €ì¥
- **CloudFront** - CDN
- **ELB** - ë¡œë“œ ë°¸ëŸ°ì‹±
- **RDS MySQL** - ë°ì´í„°ë² ì´ìŠ¤
- **Route 53** - DNS ê´€ë¦¬
- **ACM** - SSL ì¸ì¦ì„œ

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
aws/
â”œâ”€â”€ api-server/              # ë°±ì—”ë“œ API ì„œë²„
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app.ts          # Express ì•± ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ entity/         # TypeORM ì—”í‹°í‹°
â”‚   â”‚   â””â”€â”€ data-source.ts  # DB ì—°ê²° ì„¤ì •
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ web-client/              # í”„ë¡ íŠ¸ì—”ë“œ í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx         # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ services/       # API ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ .github/workflows/       # GitHub Actions CI/CD
```

## ğŸ”§ ì„¤ì¹˜ ë° ì‹¤í–‰

### Prerequisites
- Node.js 18+
- npm or yarn
- AWS ê³„ì •
- MySQL ë°ì´í„°ë² ì´ìŠ¤

### Backend ì„¤ì •

```bash
cd api-server
npm install

# .env íŒŒì¼ ìƒì„±
cp .env.example .env
# .env íŒŒì¼ì— í™˜ê²½ë³€ìˆ˜ ì„¤ì •

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build
npm start
```

### Frontend ì„¤ì •

```bash
cd web-client
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build
```

## ğŸŒ API ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET    | `/` | ì„œë²„ ìƒíƒœ í™•ì¸ |
| GET    | `/images` | ëª¨ë“  ì´ë¯¸ì§€ ì¡°íšŒ |
| GET    | `/images/:id` | íŠ¹ì • ì´ë¯¸ì§€ ì¡°íšŒ |
| POST   | `/images` | ì´ë¯¸ì§€ ì—…ë¡œë“œ (ë‹¤ì¤‘) |
| PUT    | `/images/:id` | ì´ë¯¸ì§€ ìˆ˜ì • |
| DELETE | `/images/:id` | ì´ë¯¸ì§€ ì‚­ì œ |

## ğŸ” í™˜ê²½ë³€ìˆ˜

### Backend (.env)
```env
# AWS S3
AWS_ACCESS_KEY=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_S3_BUCKET=your_bucket_name

# Database
DATABASE_NAME=your_db_name
DATABASE_USERNAME=your_db_user
DATABASE_PASSWORD=your_db_password
DATABASE_HOST=your_db_host
```

## ğŸ“¦ ë°°í¬

### ìˆ˜ë™ ë°°í¬

#### Backend (EC2)
```bash
ssh ubuntu@your-ec2-ip
cd /home/ubuntu/aws-practice/api-server
git pull origin main
npm install
npm run build
pm2 restart api-server
```

#### Frontend (S3 + CloudFront)
```bash
npm run build
aws s3 sync dist/ s3://your-bucket-name --delete
aws cloudfront create-invalidation --distribution-id YOUR_ID --paths "/*"
```

### ìë™ ë°°í¬ (GitHub Actions)

GitHub Secrets ì„¤ì • í›„ main ë¸Œëœì¹˜ì— pushí•˜ë©´ ìë™ ë°°í¬ë©ë‹ˆë‹¤.

í•„ìš”í•œ Secrets:
- `EC2_HOST`
- `EC2_SSH_KEY`
- `AWS_ACCESS_KEY`
- `AWS_SECRET_ACCESS_KEY`
- `S3_BUCKET_NAME`
- `CLOUDFRONT_DISTRIBUTION_ID`

## ğŸ›  ì£¼ìš” ê¸°ëŠ¥

- âœ… ì´ë¯¸ì§€ ì—…ë¡œë“œ (ë‹¤ì¤‘ íŒŒì¼ ì§€ì›)
- âœ… ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ ë³´ê¸°
- âœ… ì´ë¯¸ì§€ ìƒì„¸ ì •ë³´ ì¡°íšŒ
- âœ… ì´ë¯¸ì§€ ìˆ˜ì •
- âœ… ì´ë¯¸ì§€ ì‚­ì œ
- âœ… S3 ì§ì ‘ ì—…ë¡œë“œ
- âœ… ìë™ ì¸ë„¤ì¼ ìƒì„± (CloudFront)
- âœ… CORS ë³´ì•ˆ ì„¤ì •

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

- CloudFront CDNìœ¼ë¡œ ì •ì  ìì› ìºì‹±
- S3 ì§ì ‘ ì—…ë¡œë“œë¡œ ì„œë²„ ë¶€í•˜ ê°ì†Œ
- PM2 í´ëŸ¬ìŠ¤í„° ëª¨ë“œë¡œ ë©€í‹° í”„ë¡œì„¸ì‹±
- TypeScript ì»´íŒŒì¼ ìµœì í™”

## ğŸ”’ ë³´ì•ˆ

- HTTPS ì „ìš© í†µì‹ 
- CORS í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì„¤ì •
- í™˜ê²½ë³€ìˆ˜ ë¶„ë¦¬
- AWS IAM ì—­í•  ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬

## ğŸ“ ë¼ì´ì„¼ìŠ¤

MIT

## ğŸ‘¥ ê¸°ì—¬

Issuesì™€ Pull RequestsëŠ” ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤!

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”.